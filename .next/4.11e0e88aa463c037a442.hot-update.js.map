{"version":3,"sources":["C:/Users/hollowaycc1/Documents/GitHub/lol-api/pages\\nutrition.jsx"],"names":["Nutrition","state","name","measure","nutrition","cals","proteins","fats","carbs","props","searchEndpoint","params","api_key","ndbno","url","query","format","nutrients","paramString","Object","keys","forEach","key","nid","request","axios","get","then","setFoodState","response","data","report","foods","food","Map","set","nutrient","toLowerCase","value","unit","console","log","setState","renderNutrition"],"mappings":"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","file":"4.11e0e88aa463c037a442.hot-update.js","sourcesContent":["import React, { Component } from 'react'\r\nimport Head from 'next/head'\r\nimport axios from 'axios'\r\n\r\nimport Navbar from '../components/Navbar'\r\n\r\nclass Nutrition extends Component {\r\n\tconstructor() {\r\n\t\tsuper()\r\n\t\tthis.state = {\r\n\t\t\tname: null,\r\n\t\t\tmeasure: null,\r\n\t\t\tnutrition: {\r\n\t\t\t\tcals: null,\r\n\t\t\t\tproteins: null,\r\n\t\t\t\tfats: null,\r\n\t\t\t\tcarbs: null,\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n  \t// make sure props exist, otherwise we don't know the query to use\r\n  \tif (this.props) {\r\n    \tlet searchEndpoint=\"https://api.nal.usda.gov/ndb/nutrients/\"\r\n\t\t\tlet params = {\r\n\t\t\t\tapi_key: \"yBOTv6MZUbeX72vydCGuqRwnxbH6uY9YyVVefbnS\",\r\n\t\t\t\tndbno: this.props.url.query.ndbno,\r\n\t\t\t\tformat: \"json\",\r\n\t\t\t\t// to get a list of nutrients, browse to\r\n\t\t\t\t//https://api.nal.usda.gov/ndb/list?format=json&lt=n&max=300&api_key=yBOTv6MZUbeX72vydCGuqRwnxbH6uY9YyVVefbnS\r\n\t\t\t\tnutrients: [\"203\",\"204\",\"205\",\"208\"],\r\n\t\t\t}\r\n\r\n\t\t\tlet paramString = \"\"\r\n\t\t\tObject.keys(params).forEach(key => {\r\n\t\t\t\tif( typeof params[key] == \"object\") {\r\n\t\t\t\t\t// step through and create a param for each value in the object (used for the nutrients field)\r\n\t\t\t\t\tObject.keys(params[key]).forEach(nid => {\r\n\t\t\t\t\t\tparamString = paramString + \"&\" + key + \"=\" + params[key][nid]\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tparamString = paramString + \"&\" + key + \"=\" + params[key]\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tlet request = searchEndpoint + \"?\" + paramString\r\n\r\n\t\t\taxios.get(request).then( response => (\r\n\t\t\t\tthis.setFoodState(response.data.report.foods != null ? response.data.report.foods[0] : null)\t\t\r\n\t\t\t))\r\n\t\t}\r\n  }\r\n\r\n  setFoodState(food) {\r\n  \tlet nutrients = new Map()\r\n  \tObject.keys(food.nutrients).forEach(key =>\r\n  \t\tnutrients.set(food.nutrients[key].nutrient.toLowerCase(),food.nutrients[key].value + \" \" + food.nutrients[key].unit)\r\n  \t)\r\n  \tconsole.log(food)\r\n  \tthis.setState({\r\n\t\t\tname: food.name,\r\n\t\t\tmeasure: food.measure,\r\n\t\t\tnutrition: {\r\n\t\t\t\tproteins: nutrients.get(\"protein\"),\r\n\t\t\t\tcarbs: nutrients.get(\"carbohydrate, by difference\"),\r\n\t\t\t\tfats: nutrients.get(\"total lipid (fat)\"),\r\n\t\t\t\tcals: nutrients.get(\"energy\"),\r\n\t\t\t}\r\n  \t})\r\n  }\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Head>\r\n\t\t      <title>LOL API Test</title>\r\n\t\t      <link href=\"/static/main.css\" rel=\"stylesheet\" />\r\n\t\t    </Head>\r\n\t\t\t\t<Navbar />\r\n\t\t\t\t{this.renderNutrition()}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\trenderNutrition() {\r\n\t\tif(this.state.name != null) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"tile is-ancestor\">\r\n\t\t\t\t\t<div className=\"tile is-vertical is-parent is-6\">\r\n\t\t\t\t\t\t<div className=\"tile is-child box\">\r\n\t\t\t\t\t\t\t<p class=\"title\">{this.state.name}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"tile is-child box\">\r\n\t\t\t\t\t\t\tServing Size: {this.state.measure}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"tile is-vertical is-parent is-6\">\r\n\t\t\t\t\t\t<div className=\"tile is-child box\">\r\n\t\t\t\t\t\t\t<p className=\"subtitle\">Calories</p>\r\n\t\t\t\t\t\t\t<p>{this.state.nutrition.cals}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"tile is-child box\">\r\n\t\t\t\t\t\t\t<p className=\"subtitle\">Proteins</p>\r\n\t\t\t\t\t\t\t<p>{this.state.nutrition.proteins}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"tile is-child box\">\r\n\t\t\t\t\t\t\t<p className=\"subtitle\">Carbs</p>\r\n\t\t\t\t\t\t\t<p>{this.state.nutrition.carbs}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"tile is-child box\">\r\n\t\t\t\t\t\t\t<p className=\"subtitle\">Fats</p>\r\n\t\t\t\t\t\t\t<p>{this.state.nutrition.fats}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default Nutrition\n\n\n// WEBPACK FOOTER //\n// ./pages/nutrition.jsx"],"sourceRoot":""}